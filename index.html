<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redskord</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
    <div class="auth-screen" id="authScreen">
        <div class="auth-container">
            <div class="auth-header">
                <h1>üî¥ Redskord</h1>
                <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –æ–±—Ä–∞—Ç–Ω–æ!</p>
            </div>
            
            <div class="auth-tabs">
                <button class="tab-btn active" id="loginTab">–í—Ö–æ–¥</button>
                <button class="tab-btn" id="registerTab">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
            </div>

            <div class="auth-form" id="loginForm">
                <input type="text" id="loginUsername" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" required>
                <input type="password" id="loginPassword" placeholder="–ü–∞—Ä–æ–ª—å" required>
                <div class="remember-me">
                    <input type="checkbox" id="rememberMe" checked>
                    <label for="rememberMe">–ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è</label>
                </div>
                <button id="loginBtn" class="auth-button">–í–æ–π—Ç–∏</button>
                <div class="auth-error" id="loginError"></div>
            </div>

            <div class="auth-form" id="registerForm" style="display: none;">
                <input type="text" id="registerUsername" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (3-20 —Å–∏–º–≤–æ–ª–æ–≤)" required minlength="3" maxlength="20">
                <input type="email" id="registerEmail" placeholder="Email (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)">
                <input type="password" id="registerPassword" placeholder="–ü–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤)" required minlength="6">
                <input type="password" id="registerPasswordConfirm" placeholder="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required minlength="6">
                <div class="password-strength" id="passwordStrength"></div>
                <button id="registerBtn" class="auth-button">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                <div class="auth-error" id="registerError"></div>
            </div>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
    <div class="app-container" id="appContainer" style="display: none;">
        <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å - —Å–µ—Ä–≤–µ—Ä—ã/–∫–∞–Ω–∞–ª—ã -->
        <div class="servers-panel">
            <div class="server-icon active">
                <span>üî¥</span>
            </div>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å –∫–∞–Ω–∞–ª–æ–≤ -->
        <div class="channels-panel">
            <div class="channels-header">
                <h2>Redskord</h2>
            </div>
            
            <div class="channels-section">
                <div class="section-header">
                    <span>–û–ë–©–ò–ô –ß–ê–¢</span>
                </div>
                <div class="channel-item active" data-channel="general">
                    <span>#</span> –æ–±—â–∏–π-—á–∞—Ç
                </div>
            </div>

            <div class="channels-section">
                <div class="section-header">
                    <span>–õ–ò–ß–ù–´–ï –°–û–û–ë–©–ï–ù–ò–Ø</span>
                </div>
                <div id="friendsList"></div>
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å —á–∞—Ç–∞ -->
        <div class="chat-area">
            <div class="chat-header">
                <div class="chat-header-left">
                    <span class="hash-icon">#</span>
                    <h3 id="chatTitle">–æ–±—â–∏–π-—á–∞—Ç</h3>
                </div>
                <div class="chat-header-right">
                    <button class="header-btn" id="addFriendBtn" title="–î–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∞">
                        <span>üë§</span>
                        <span class="friend-requests-badge" id="friendRequestsBadge" style="display: none;">0</span>
                    </button>
                    <div class="call-buttons-group" id="callButtonsGroup" style="display: none;">
                        <button class="header-btn" id="voiceCallBtn" title="–ì–æ–ª–æ—Å–æ–≤–æ–π –∑–≤–æ–Ω–æ–∫">
                            <span>üé§</span>
                        </button>
                        <button class="header-btn" id="videoCallBtn" title="–í–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫">
                            <span>üìπ</span>
                        </button>
                    </div>
                </div>
            </div>

            <div class="messages-area" id="messagesArea">
                <div class="welcome-message">
                    <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ #–æ–±—â–∏–π-—á–∞—Ç!</h2>
                    <p>–≠—Ç–æ –Ω–∞—á–∞–ª–æ –∫–∞–Ω–∞–ª–∞ #–æ–±—â–∏–π-—á–∞—Ç</p>
                </div>
            </div>

            <div class="message-input-wrapper">
                <div class="message-input-container">
                    <button id="voiceMessageBtn" class="voice-btn" title="–ì–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ">
                        <span>üé§</span>
                    </button>
                    <input type="text" id="messageInput" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ #–æ–±—â–∏–π-—á–∞—Ç" maxlength="2000">
                    <button id="sendBtn" class="send-button">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                </div>
                <div class="voice-recording" id="voiceRecording" style="display: none;">
                    <div class="recording-indicator">
                        <span class="recording-dot"></span>
                        <span id="recordingTime">00:00</span>
                    </div>
                    <button id="stopRecordingBtn" class="stop-recording-btn">–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                    <button id="sendVoiceBtn" class="send-voice-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                </div>
            </div>
        </div>

        <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ -->
        <div class="users-panel">
            <div class="users-header">
                <span>–£–ß–ê–°–¢–ù–ò–ö–ò</span>
            </div>
            <div class="users-list" id="usersList">
                <!-- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∞ -->
    <div class="modal" id="addFriendModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–î–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∞</h3>
                <button class="modal-close" id="closeAddFriendModal">&times;</button>
            </div>
            <div class="modal-body">
                <input type="text" id="searchUserInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
                <div id="searchResults"></div>
                <div class="friend-requests" id="friendRequests">
                    <h4>–ó–∞–ø—Ä–æ—Å—ã –≤ –¥—Ä—É–∑—å—è</h4>
                    <div id="friendRequestsList"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–≤–æ–Ω–∫–∞ -->
    <div class="call-modal" id="callModal" style="display: none;">
        <div class="call-modal-content">
            <div id="callStatus"></div>
            <div class="video-container" id="videoContainer" style="display: none;">
                <video id="localVideo" autoplay muted playsinline></video>
                <video id="remoteVideo" autoplay playsinline></video>
            </div>
            <div class="voice-container" id="voiceContainer">
                <div class="voice-avatar" id="voiceAvatar"></div>
                <div class="voice-name" id="voiceName"></div>
            </div>
            <div class="call-buttons">
                <button id="shareScreenBtn" class="toggle-btn" title="–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–∞">
                    <span>üñ•Ô∏è</span>
                </button>
                <button id="toggleVideoBtn" class="toggle-btn" style="display: none;" title="–í–∫–ª—é—á–∏—Ç—å –≤–∏–¥–µ–æ">
                    <span>üìπ</span>
                </button>
                <button id="toggleMuteBtn" class="toggle-btn" title="–í—ã–∫–ª—é—á–∏—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω">
                    <span>üîá</span>
                </button>
                <button id="endCallBtn" class="end-call-btn">üìû –ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –≤—Ö–æ–¥—è—â–µ–º –∑–≤–æ–Ω–∫–µ -->
    <div class="incoming-call-modal" id="incomingCallModal" style="display: none;">
        <div class="incoming-call-content">
            <div id="incomingCallIcon" class="incoming-call-icon">üìû</div>
            <h3 id="incomingCallTitle">–í—Ö–æ–¥—è—â–∏–π –∑–≤–æ–Ω–æ–∫</h3>
            <p id="callerName"></p>
            <div class="incoming-call-buttons">
                <button id="answerCallBtn" class="answer-btn">‚úÖ –ü—Ä–∏–Ω—è—Ç—å</button>
                <button id="rejectCallBtn" class="reject-btn">‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="app.js"></script>
</body>
</html>
